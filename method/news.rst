#############
news
#############
Имя ресурса: **/news**

HTTP метод: **GET**

Вычитывания новостей позволяет получить события по документооборотам, осуществляется методом ``GET /news?after={after}``

* after: токен (lastToken) последнего обработанного события.
 Если токет не указан, то начиная с текущего момента времени.
Алгоритм вычитывания новостей:

1. Отправляем запрос без параметра after. В ответе получаем идентификатор lastToken, с которого будем продолжать вычитывание.

2. Регистрируем один или несколько ДО на отправку.

3. Отправляем запрос, в котором параметр after принимает значение lastToken из предыдущего ответа (или идентификатор последней обработанной новости). Если появились новости с последнего запроса новостей, то ответ будет содержать описание новостей и новый идентификатор lastToken.

4. Если при обработке новостей случилась ошибка на стороне клиента, то клиент должен запомнить token последнего обработанного события и передать его в параметр запроса after, чтобы продолжить обработку новостей.

Пример запроса

.. code-block:: bash

        GET /realty/v1/news?after=3254tsadf5 HTTP/1.0
        Host: api.kontur.ru
        Authorization: auth.sid 38f31d7246b148c8abcdf0e240a5e39d

В ответ возвращается :ref:`список новостей<response/docflowNews>` по документооборотом и токен для продолжения вычитывания.
Новости содержат набор :ref:`событий на изменение статуса документооборота<response/docflowNewsItem>`. 
Событие на изменение статуса ДО может содержать:

* либо :ref:`result<response/result>` -  результат запроса в Росреестр 
* либо :ref:`error<response/error>` - описание возникшей ошибки 
* либо :ref:`requirements<response/requirements>` - описание действий, которые нужно совершить для продолжения обработки запроса
