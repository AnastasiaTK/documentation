Поиск кадастрового номера по структурированному адресу
================

Для работы с методами API необходима :doc:`method/auth`.
API поиска объекта представляет собой HTTP сервис доступный по адресу ``/realty/v1/``

*************
Запрос
*************

Для получения кадастрового номера пользователю необходимо направить запрос ```/realty/v1/cadastre/suggest`` методом ``POST``

В теле запроса должен быть расположен JSON, содержащий описание структурированного уровня адресного объекта до дома или квартиры.

Адресный объект в базе ФИАС содержит следующие адресные уровни:

    * **region** - регион ОН -  является обязательным значением для индетификации адреса, должен содежать:

        * name - наименование региона ``Новосибирская область``

    * **autonomousCounty** - автономная область ОН, элемент должен содежать:

        * *name* - наименование автономии ``Республика Крым``    

    * **district** - район расположения ОН, элемент должен содежать:

        * *name* - наименование района ``Ханты-Мансийский``
        
    * **city** - город расположения ОН, элемент должен содежать:

        * *name* - наименование города ``Екатеринбург``
        
    * **settlement** - населенный пункет ОН, содежит:

        * *name* - наименование населенного пункта ``село Базьяны``
        
    * **street** - улица, описание которой содежит:

        * *name* - наименование улицы ``Ленина``
        
    * **house** - описание дома состоит из 3х уровней детализации:

        * *number* - номер дома ``5``
        * *buildingNumber* - номера здания (корпус) ``1``
        * *sructureNumber* - номера строения (литера) ``А``

    * **room** - описание помещения помещения состоит из 

        * *number* - номер офиса/квартиры ``120``

Пример запроса

.. code-block:: bash 

       POST /v1/cadastre/suggest
       {
        "region": {
          "name": "Новосибирский"
        },
        "city": {
          "name": "Новосибирск"
        },
        "street" : {
          "name" : "Татьяны Снежиной"  
        },
        "house" : {
          "number" : "39",
          "buildingNumber": null,
          "structureNumber": null  
        },
        "room" : {
          "number" : "120"
        }        
       }

*************
Ответ
*************

Ответ содержит массив объектов, советующих заданным в запросе параметрам.

+-----------------+---------------------------------------------------------------------+
| Параметр        | Описание                                                            | 
+=================+=====================================================================+
| objectId        | Код объекта                                                         | 
+-----------------+---------------------------------------------------------------------+
| subjectId       | Код субъекта                                                        | 
+-----------------+---------------------------------------------------------------------+
| regionId        | Код региона                                                         | 
+-----------------+---------------------------------------------------------------------+
| settlementId    | Код населенного пунка                                               | 
+-----------------+---------------------------------------------------------------------+
| srcObject       | Код типа объекта (сооружение, помещение, здание, земельный участок) | 
+-----------------+---------------------------------------------------------------------+
| objectCn        | Кадастровый номер                                                   | 
+-----------------+---------------------------------------------------------------------+
| street          | Название улицы                                                      | 
+-----------------+---------------------------------------------------------------------+
| house           | Описание дома                                                       | 
+-----------------+---------------------------------------------------------------------+
| apartment       | Номер помещения                                                     | 
+-----------------+---------------------------------------------------------------------+
| addressNotes    | Неструктурированное описание адреса                                 | 
+-----------------+---------------------------------------------------------------------+

Пример ответа

.. code-block:: bash 

       HTTP/1.0 200 OK
       Content-Type: application/json
       [ 
        { 
          "objectId":"54:35:0:5911",
          "subjectId":150000000000,
          "regionId":150401000000,
          "settlementId":150401379000,
          "srcObject":1,
          "regionKey":154,
          "objectCn":"54:35:000000:5911",
          "street":"ТАТЬЯНЫ СНЕЖИНОЙ|УЛ",
          "house":"39||",
          "apartment":"120",
          "addressNotes":"г Новосибирск, ул Татьяны Снежиной, д. 39, 120"
        },
        { 
          "objectId":"54:35:0:5013",
          "subjectId":150000000000,
          "regionId":150401000000,
          "settlementId":150401379000,
          "srcObject":1,
          "regionKey":154,
          "objectCn":"54:35:000000:5013",
          "street":"ТАТЬЯНЫ СНЕЖИНОЙ|УЛ",
          "house":"39/1||",
          "apartment":"120",
          "addressNotes":"г Новосибирск, ул Татьяны Снежиной, д. 39/1, 120"
        }
      ]

**Возможные HTTP-коды возврата:**
    * 400 - один из параметров запроса был указан в неверном формате,
    * 200 - выполнение запроса завершилось успешно.
