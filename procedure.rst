#############
Порядок работы с API
#############
API Контур.Реестро представляет собой HTTP сервис доступный по адресу /realty/v1/. 
Ниже представлены основные методы работы с API 

*************
Авторизация
*************

Для работы с методами API необходимо пройти авторизацию, используя метод :doc:`method/auth`
Авторизация осуществляестя с помошью логина и пароля, которые необходимо передать в теле запроса. 
В случае успешной авторизации пользователю возвращается идентификатор сессии, который должен быть представлен в заголовке Authorization при вызове методов API.
Формат заголовка: ``Authorization: auth.sid <sessionId>``.

*************
Создание документооборота
*************


ref:`Создание документооборота<method/docflows>` инициализирует процесс работы с документооборотом.
 Создание документооборота не отождествляется с его отправкой. 
 После его создания API  Контур.Реестро на основание полученых данных проверяет наличие необходимых ref:`требований<response/requirements>`  к данному ДО. 
 В случае их отсутствия ДО становится в очередь на отправку, если - определены, то пользователю возвращается детальное описание действий, которые необходимо осуществить для отправки ДО.


*************
Актуализация состояния документооборота
*************
После создания состояние документооборота может менятся в связи с его обработкой  Росреестром или API Контур.Реестро.
Документообороту могут быть присвоены следующие статусы:

    * queued: ожидает отправки
    * sent: отправлен в Росреестр
    * suspended: требуются дополнительные действия 
    * completed: исполнено
    * error: ошибка обработки
    * verified: верификация документооборота

Для получения информации о событиях, по документообороту необходимо периодически: 
ref:`вычитывать новости<method/news>` или ref:`запрашивать описание документооборота<method/getdocflows>`. 


